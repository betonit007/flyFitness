(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{100:function(e,t,a){},101:function(e,t,a){},124:function(e,t,a){"use strict";a.r(t);var n,r=a(0),c=a.n(r),l=a(27),o=a.n(l),s=a(6),u=a(28),i=a(34),E=a(75),m=a(76),d=a(17),p=a(9),f=p.USER_LOGIN_FAIL,S=p.USER_LOGOUT,g=p.USER_LOGIN_REQUEST,_=p.USER_LOGIN_SUCCESS,h=p.USER_REGISTER_FAIL,R=p.USER_REGISTER_REQUEST,y=p.USER_REGISTER_SUCCESS,v=p.USER_DETAILS_FAIL,I=p.USER_DETAILS_REQUEST,O=p.USER_DETAILS_SUCCESS,b=p.USER_UPDATE_PROFILE_FAIL,T=p.USER_UPDATE_PROFILE_REQUEST,C=p.USER_UPDATE_PROFILE_SUCCESS,U=p.USER_UPDATE_PROFILE_RESET,L=p.USER_LIST_FAIL,A=p.USER_LIST_REQUEST,D=p.USER_LIST_SUCCESS,P=p.USER_LIST_RESET,j=p.USER_DELETE_FAIL,k=p.USER_DELETE_REQUEST,w=p.USER_DELETE_SUCCESS,x=p.USER_UPDATE_FAIL,N=p.USER_UPDATE_SUCCESS,F=p.USER_UPDATE_RESET,G=p.USER_UPDATE_REQUEST,Q=p.USER_DETAILS_RESET,M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return{loading:!0};case w:return{loading:!1,success:!0};case j:return{loading:!1,error:t.payload};default:return e}},B=a(31),V=Object(i.combineReducers)((n={productList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCT_LIST_REQUEST":return{loading:!0,products:[]};case"PRODUCT_LIST_SUCCESS":return{loading:!1,products:t.payload.products,pages:t.payload.pages,page:t.payload.page};case"PRODUCT_LIST_FAIL":return{loading:!1,error:t.payload};default:return e}},productDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{review:[]}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCT_DETAILS_REQUEST":return Object(d.a)({loading:!0},e);case"PRODUCT_DETAILS_SUCCESS":return{loading:!1,product:t.payload};case"PRODUCT_DETAILS_FAIL":return{loading:!1,error:t.payload};default:return e}},productDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCT_DELETE_REQUEST":return{loading:!0};case"PRODUCT_DELETE_SUCCESS":return{loading:!1,success:!0};case"PRODUCT_DELETE_FAIL":return{loading:!1,error:t.payload};default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[],shippingAddress:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CART_ADD_ITEM":var a=t.payload,n=e.cartItems.find((function(e){return e.product===a.product}));return n?Object(d.a)(Object(d.a)({},e),{},{cartItems:e.cartItems.map((function(e){return e.product===n.product?a:e}))}):Object(d.a)(Object(d.a)({},e),{},{cartItems:[].concat(Object(B.a)(e.cartItems),[a])});case"CART_REMOVE_ITEM":return Object(d.a)(Object(d.a)({},e),{},{cartItems:e.cartItems.filter((function(e){return e.product!==t.payload}))});case"CART_SAVE_SHIPPING_ADDRESS":return Object(d.a)(Object(d.a)({},e),{},{shippingAddress:t.payload});case"CART_SAVE_PAYMENT_METHOD":return console.log("hitt!"),Object(d.a)(Object(d.a)({},e),{},{paymentMethod:t.payload});default:return e}},userLogin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return{loading:!0};case _:return{loading:!1,userInfo:t.payload};case f:return{loading:!1,error:t.payload};case S:return{};default:return e}},userRegister:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return{loading:!0};case y:return{loading:!1,userInfo:t.payload};case h:return{loading:!1,error:t.payload};case S:return{};default:return e}},userDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:return Object(d.a)(Object(d.a)({},e),{},{loading:!0});case O:return{loading:!1,user:t.payload};case v:return{loading:!1,error:t.payload};case Q:return{user:{}};default:return e}},userUpdateProfile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return{loading:!0};case C:return{loading:!1,success:!0,userInfo:t.payload};case b:return{loading:!1,error:t.payload};case U:return{};default:return e}},userList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{users:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:return{loading:!0};case D:return{loading:!1,users:t.payload};case L:return{loading:!1,error:t.payload};case P:return{users:[]};default:return e}},userDelete:M,orderCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case" ORDER_CREATE_REQUEST":return{loading:!0};case" ORDER_CREATE_SUCCESS":return{loading:!1,success:!0,order:t.payload};case" ORDER_CREATE_FAIL":return{loading:!1,error:t.payload};default:return e}},orderDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0,orderItems:[],shippingAddress:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case" ORDER_DETAILS_REQUEST":return Object(d.a)(Object(d.a)({},e),{},{loading:!0});case" ORDER_DETAILS_SUCCESS":return{loading:!1,order:t.payload};case" ORDER_DETAILS_FAIL":return{loading:!1,error:t.payload};default:return e}},orderPay:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case" ORDER_PAY_REQUEST":return Object(d.a)(Object(d.a)({},e),{},{loading:!0});case" ORDER_PAY_SUCCESS":return{loading:!1,success:!0};case" ORDER_PAY_FAIL":return{loading:!1,error:t.payload};case" ORDER_PAY_RESET":return{};default:return e}},orderListMy:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case" ORDER_LIST_MY_REQUEST":return{loading:!0};case" ORDER_LIST_MY_SUCCESS":return{loading:!1,orders:t.payload};case" ORDER_LIST_MY_FAIL":return{loading:!1,error:t.payload};case" ORDER_PAY_RESET":return{};case" ORDER_LIST_MY_RESET":return{orders:[]};default:return e}}},Object(u.a)(n,"userDelete",M),Object(u.a)(n,"userUpdate",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G:return{loading:!0};case N:return{loading:!1,success:!0};case x:return{loading:!1,error:t.payload};case F:return{user:{}};default:return e}})),Object(u.a)(n,"productCreate",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCT_CREATE_REQUEST":return{loading:!0};case"PRODUCT_CREATE_SUCCESS":return{loading:!1,success:!0,product:t.payload};case"PRODUCT_CREATE_FAIL":return{loading:!1,error:t.payload};case"PRODUCT_CREATE_RESET":return{};default:return e}})),Object(u.a)(n,"productUpdate",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCT_UPDATE_REQUEST":return{loading:!0};case"PRODUCT_UPDATE_SUCCESS":return{loading:!1,success:!0,product:t.payload};case"PRODUCT_UPDATE_FAIL":return{loading:!1,error:t.payload};case"PRODUCT_UPDATE_RESET":return{product:{}};default:return e}})),Object(u.a)(n,"allOrders",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{allOrders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case" ORDER_LISTALL_REQUEST":return{loading:!0};case" ORDER_LISTALL_SUCCESS":return{loading:!1,allOrders:t.payload};case" ORDER_LISTALL_FAIL":return{loading:!1,error:t.payload};case" ORDER_LISTALL_RESET":return{};default:return e}})),Object(u.a)(n,"orderDeliver",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{allOrders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case" ORDER_DELIVER_REQUEST":return{loading:!0};case" ORDER_DELIVER_SUCCESS":return{loading:!1,allOrders:t.payload};case" ORDER_DELIVER_FAIL":return{loading:!1,error:t.payload};case" ORDER_DELIVER_RESET":return{};default:return e}})),Object(u.a)(n,"productReviewCreate",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCT_CREATE_REVIEW_REQUEST":return{loading:!0};case"PRODUCT_CREATE_REVIEW_SUCCESS":return{loading:!1,success:!0,product:t.payload};case"PRODUCT_CREATE_REVIEW_FAIL":return{loading:!1,error:t.payload};case"PRODUCT_CREATE_REVIEW_RESET":return{product:{}};default:return e}})),Object(u.a)(n,"productTopRated",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCT_TOP_REQUEST":return{loading:!0,products:[]};case"PRODUCT_TOP_SUCCESS":return{loading:!1,products:t.payload};case"PRODUCT_TOP_FAIL":return{loading:!1,error:t.payload};case"PRODUCT_TOP_RESET":return{product:{}};default:return e}})),n)),Y=localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[],q=localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null,$={cart:{cartItems:Y,shippingAddress:localStorage.getItem("shippingAddress")?JSON.parse(localStorage.getItem("shippingAddress")):{}},userLogin:{userInfo:q}},z=[E.a],J=Object(i.createStore)(V,$,Object(m.composeWithDevTools)(i.applyMiddleware.apply(void 0,z))),W=(a(100),a(101),a(10)),H=a(16),K=a(15),X=a(138),Z=a(129),ee=a(130),te=a(136),ae=a(7),ne=a.n(ae),re=a(11),ce=a(9),le=a(12),oe=a.n(le),se=function(){return function(){var e=Object(re.a)(ne.a.mark((function e(t){return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.removeItem("userInfo"),t({type:ce.USER_LOGOUT}),t({type:ce.USER_DETAILS_RESET}),t({type:" ORDER_LIST_MY_RESET"}),t({type:ce.USER_LIST_RESET});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},ue=function(e){return function(){var t=Object(re.a)(ne.a.mark((function t(a,n){var r,c,l,o,s;return ne.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:ce.USER_DETAILS_REQUEST}),r=n(),c=r.userLogin.userInfo,l={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c.token)}},t.next=6,oe.a.get("/api/user/".concat(e),l);case 6:o=t.sent,s=o.data,a({type:ce.USER_DETAILS_SUCCESS,payload:s}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a({type:ce.USER_DETAILS_FAIL,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()},ie=a(8),Ee=a(135),me=a(78),de=function(e){var t=e.history,a=Object(r.useState)(""),n=Object(ie.a)(a,2),l=n[0],o=n[1];return c.a.createElement(Ee.a,{onSubmit:function(e){e.preventDefault(),l.trim()?t.push("/search/".concat(l)):t.push("/")},inline:!0},c.a.createElement(Ee.a.Control,{type:"text",name:"q",onChange:function(e){return o(e.target.value)},placeholder:"Search Products...",className:"mr-sm-2 ml-sm-5"}),c.a.createElement(me.a,{type:"submit",variant:"outline-success"},"Search"))},pe=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.userLogin})).userInfo,a=function(){e(se())};return c.a.createElement("header",null,c.a.createElement(X.a,{bg:"primary",variant:"dark",expand:"lg"},c.a.createElement(Z.a,null,c.a.createElement(K.LinkContainer,{to:"/"},c.a.createElement(X.a.Brand,null,"Fly Fitness")),c.a.createElement(X.a.Toggle,{"aria-controls":"basic-navbar-nav"}),c.a.createElement(X.a.Collapse,{id:"basic-navbar-nav"},c.a.createElement(H.d,{render:function(e){var t=e.history;return c.a.createElement(de,{history:t})}})," This is a way to pass history into",c.a.createElement(ee.a,{className:"ml-auto"},c.a.createElement(K.LinkContainer,{to:"/cart"},c.a.createElement(ee.a.Link,null,c.a.createElement("i",{className:"fas fa-shopping-cart pr-1"}),"Cart")),t?c.a.createElement(te.a,{title:t.name,id:"username"},c.a.createElement(K.LinkContainer,{to:"/profile"},c.a.createElement(te.a.Item,null,"Profile")),c.a.createElement(te.a.Item,{onClick:a},"Logout")):c.a.createElement(K.LinkContainer,{to:"/login"},c.a.createElement(ee.a.Link,null,c.a.createElement("i",{className:"fas fa-user p-2"}),"Sign In")),t&&t.isAdmin&&c.a.createElement(te.a,{title:"Admin",id:"adminmenu"},c.a.createElement(K.LinkContainer,{to:"/admin/userlist"},c.a.createElement(te.a.Item,null,"Users")),c.a.createElement(K.LinkContainer,{to:"/admin/productlist"},c.a.createElement(te.a.Item,null,"Products")),c.a.createElement(K.LinkContainer,{to:"/admin/orderlist"},c.a.createElement(te.a.Item,null,"Orders")),c.a.createElement(te.a.Item,{onClick:a},"Logout")))))))},fe=a(131),Se=a(77),ge=function(){return c.a.createElement(Z.a,null,c.a.createElement(fe.a,null,c.a.createElement(Se.a,{className:"text-center py-3"},"Copyright \xa9 FlyFitness")))},_e=a(140),he=a(3),Re=a.n(he),ye=function(e){var t=e.value,a=e.text,n=e.color;return c.a.createElement("div",{className:"rating"},c.a.createElement("span",null,c.a.createElement("i",{style:{color:n},className:t>=1?"fas fa-star":t>=.5?"fas fa-star-half-alt":"far fa-star"})),c.a.createElement("span",null,c.a.createElement("i",{style:{color:n},className:t>=2?"fas fa-star":t>=1.5?"fas fa-star-half-alt":"far fa-star"})),c.a.createElement("span",null,c.a.createElement("i",{style:{color:n},className:t>=3?"fas fa-star":t>=2.5?"fas fa-star-half-alt":"far fa-star"})),c.a.createElement("span",null,c.a.createElement("i",{style:{color:n},className:t>=4?"fas fa-star":t>=3.5?"fas fa-star-half-alt":"far fa-star"})),c.a.createElement("span",null,c.a.createElement("i",{style:{color:n},className:t>=5?"fas fa-star":t>=4.5?"fas fa-star-half-alt":"far fa-star"})),c.a.createElement("span",null,a&&a))};ye.defaultProps={color:"#f8e825"},ye.protoTypes={value:Re.a.number.isRequired,text:Re.a.string.isRequired,color:Re.a.number};var ve=ye,Ie=function(e){var t=e.product;return c.a.createElement(_e.a,{className:"my-3 p-3 rounded"},c.a.createElement("div",{className:"product-img-container"},c.a.createElement(W.Link,{to:"/product/".concat(t._id)},c.a.createElement(_e.a.Img,{src:t.image,variant:"top"}))),c.a.createElement(_e.a.Body,null,c.a.createElement(W.Link,{to:"/product/".concat(t._id)},c.a.createElement(_e.a.Title,{as:"div"},c.a.createElement("strong",null,t.name))),c.a.createElement(_e.a.Text,{as:"div"},c.a.createElement(ve,{value:t.rating,text:"".concat(t.numReviews," reviews")})),c.a.createElement(_e.a.Text,{as:"h3"},"$",t.price)))},Oe=a(139),be=function(e){var t=e.variant,a=e.children;return c.a.createElement(Oe.a,{variant:t},a)};be.defaultProps={variant:"info"};var Te=be,Ce=a(132),Ue=function(){return c.a.createElement(Ce.a,{animation:"border",role:"status",style:{width:"100px",height:"100px",margin:"auto",display:"block"}},c.a.createElement("span",{className:"sr-only"},"Loading..."))},Le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(){var a=Object(re.a)(ne.a.mark((function a(n){var r,c;return ne.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:"PRODUCT_LIST_REQUEST"}),a.next=4,oe.a.get("/api/products?keyword=".concat(e,"&pageNumber=").concat(t));case 4:r=a.sent,c=r.data,n({type:"PRODUCT_LIST_SUCCESS",payload:c}),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),n({type:"PRODUCT_LIST_FAIL",payload:a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message});case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()},Ae=function(e){return function(){var t=Object(re.a)(ne.a.mark((function t(a){var n,r;return ne.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"PRODUCT_DETAILS_REQUEST"}),t.next=4,oe.a.get("/api/products/".concat(e));case 4:n=t.sent,r=n.data,a({type:"PRODUCT_DETAILS_SUCCESS",payload:r}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:"PRODUCT_DETAILS_FAIL",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},De=a(141),Pe=function(e){var t=e.pages,a=e.page,n=e.isAdmin,r=void 0!==n&&n,l=e.keyword,o=void 0===l?"":l;return t>1&&c.a.createElement(De.a,null,Object(B.a)(Array(t).keys()).map((function(e){return c.a.createElement(K.LinkContainer,{key:e+1,to:r?"/admin/productList/".concat(e+1):o?"/search/".concat(o,"/page/").concat(e+1):"/page/".concat(e+1)},c.a.createElement(De.a.Item,{active:e+1===a},e+1))})))},je=a(137),ke=a(133),we=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.productTopRated})),a=t.loading,n=t.error,l=t.products;return Object(r.useEffect)((function(){e(function(){var e=Object(re.a)(ne.a.mark((function e(t){var a,n;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"PRODUCT_TOP_REQUEST"}),e.next=4,oe.a.get("/api/products/top");case 4:a=e.sent,n=a.data,t({type:"PRODUCT_TOP_SUCCESS",payload:n}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:"PRODUCT_TOP_FAIL",payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())}),[]),a?c.a.createElement(Ue,null):n?c.a.createElement(Te,{variant:"danger"},n):c.a.createElement(je.a,{pause:"hover",className:"bg-dark"},l.map((function(e){return c.a.createElement(je.a.Item,{key:e._id},c.a.createElement(W.Link,{to:"/product/".concat(e._id)},c.a.createElement(ke.a,{src:e.image,alt:e.name,fluid:!0}),c.a.createElement(je.a.Caption,{className:"carousel-caption"},c.a.createElement("h2",null,e.name," $",e.price))))})))},xe=a(83),Ne=function(e){var t=e.title,a=e.description,n=e.keywords;return c.a.createElement(xe.a,null,c.a.createElement("title",null,t),c.a.createElement("meta",{name:"description",content:a}),c.a.createElement("meta",{name:"keywords",content:n}))};Ne.defaultProps={title:"Welcome To Fly Fitness",description:"Get Fit, Look Fly!",keywords:"gym fitness workout equipment"};var Fe=Ne,Ge=function(e){var t=e.match,a=t.params.keyword,n=t.params.pageNumber||1,l=Object(s.b)(),o=Object(s.c)((function(e){return e.productList})),u=o.loading,i=o.error,E=o.products,m=o.page,d=o.pages;return Object(r.useEffect)((function(){l(Le(a,n))}),[l,a,n]),c.a.createElement(c.a.Fragment,null,c.a.createElement(Fe,null),a?c.a.createElement(W.Link,{to:"/",className:"btn btn-light"},"Go Back"):c.a.createElement(we,null),c.a.createElement("h1",null,"Latest Products"),u?c.a.createElement(Ue,null):i?c.a.createElement(Te,{variant:"red"},i):c.a.createElement(c.a.Fragment,null,c.a.createElement(fe.a,null,E.map((function(e){return c.a.createElement(Se.a,{sm:12,md:6,lg:4,xl:3,key:e._id},c.a.createElement(Ie,{product:e}))}))),c.a.createElement(Pe,{pages:d,page:m,keyword:a||""})))},Qe=a(142),Me=function(e){var t,a,n=e.history,l=e.match,o=Object(r.useState)(1),u=Object(ie.a)(o,2),i=u[0],E=u[1],m=Object(r.useState)(""),d=Object(ie.a)(m,2),p=d[0],f=d[1],S=Object(r.useState)(""),g=Object(ie.a)(S,2),_=g[0],h=g[1],R=Object(s.b)(),y=Object(s.c)((function(e){return e.productDetails})),v=y.loading,I=y.error,O=y.product,b=Object(s.c)((function(e){return e.userLogin})).userInfo,T=Object(s.c)((function(e){return e.productReviewCreate})),C=T.error,U=T.success;Object(r.useEffect)((function(){U&&(alert("Review Submitted"),f(0),h(""),R({type:"PRODUCT_CREATE_REVIEW_RESET"})),R(Ae(l.params.id))}),[l,R,U]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(W.Link,{className:"btn btn-light my-3",to:"/"},"GO BACK"),v?c.a.createElement(Ue,null):I?c.a.createElement(Te,{variant:"danger"},I):c.a.createElement(c.a.Fragment,null,c.a.createElement(Fe,{title:O.name}),c.a.createElement(fe.a,null,c.a.createElement(Se.a,{md:6},c.a.createElement(ke.a,{src:O.image,alt:O.name,fluid:!0})),c.a.createElement(Se.a,{md:3},c.a.createElement(Qe.a,{variant:"flush"},c.a.createElement(Qe.a.Item,{className:"product-item"},c.a.createElement("h3",null,O.name)),c.a.createElement(Qe.a.Item,{className:"product-item"},c.a.createElement(ve,{value:O.rating,text:"".concat(O.numReviews," Reviews")})),c.a.createElement(Qe.a.Item,{className:"product-item"},"Price: $",O.price),c.a.createElement(Qe.a.Item,{className:"product-item"},O.description))),c.a.createElement(Se.a,{md:3},c.a.createElement(_e.a,null,c.a.createElement(Qe.a,{variant:"flush"},c.a.createElement(Qe.a.Item,{className:"product-item"},c.a.createElement(fe.a,null,c.a.createElement(Se.a,null,"Price:"),c.a.createElement(Se.a,null,O.price))),c.a.createElement(Qe.a.Item,{className:"product-item"},c.a.createElement(fe.a,null,c.a.createElement(Se.a,null,"Status:"),c.a.createElement(Se.a,null,O.countInStock>0?"In Stock":"Out Of Stock"))),O.countInStock>0&&c.a.createElement(Qe.a.Item,null,c.a.createElement(fe.a,null,c.a.createElement(Se.a,null,"Qty"),c.a.createElement(Se.a,null,c.a.createElement(Ee.a.Control,{as:"select",value:i,onChange:function(e){return E(e.target.value)},style:{padding:0}},Object(B.a)(Array(O.countInStock).keys()).map((function(e){return c.a.createElement("option",{key:e+1,value:e+1},e+1)})))))),c.a.createElement(Qe.a.Item,{style:{backgroundColor:"#fff"}},c.a.createElement(me.a,{onClick:function(){n.push("/cart/".concat(l.params.id,"?qty=").concat(i))},disabled:0===O.countInStock,className:"btn-block",type:"button"},"ADD TO CART")))))),c.a.createElement(fe.a,null,c.a.createElement(Se.a,{md:6},c.a.createElement("h2",null,"Reviews"),0===(null===(t=O.reviews)||void 0===t?void 0:t.length)&&c.a.createElement(Te,null,"No Reviews"),c.a.createElement(Qe.a,{variant:"flush"},null===(a=O.reviews)||void 0===a?void 0:a.map((function(e){return c.a.createElement(Qe.a.Item,{key:e._id},c.a.createElement("strong",null,e.name),c.a.createElement(ve,{value:e.rating}),c.a.createElement("p",null,e.createdAt.substring(0,10)),c.a.createElement("p",null,e.comment))})),c.a.createElement(Qe.a.Item,null,c.a.createElement("h2",null,"Write a customer Review"),C&&c.a.createElement(Te,{variant:"danger"},C),b?c.a.createElement(Ee.a,{onSubmit:function(e){var t,a;e.preventDefault(),R((t=l.params,a={rating:p,comment:_},function(){var e=Object(re.a)(ne.a.mark((function e(n,r){var c,l,o;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n({type:"PRODUCT_CREATE_REVIEW_REQUEST"}),c=r(),l=c.userLogin.userInfo,o={headers:{"Content-Type":"Application/json",Authorization:"Bearer ".concat(l.token)}},e.next=6,oe.a.post("/api/products/".concat(t.id,"/reviews"),a,o);case 6:n({type:"PRODUCT_CREATE_REVIEW_SUCCESS"}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),n({type:"PRODUCT_CREATE_REVIEW_FAIL",payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}()))}},c.a.createElement(Ee.a.Group,{controlId:"rating"},c.a.createElement(Ee.a.Label,null,"Rating"),c.a.createElement(Ee.a.Control,{as:"select",value:p,onChange:function(e){return f(e.target.value)}},c.a.createElement("option",{value:""},"Select..."),c.a.createElement("option",{value:"1"},"1 - Poor"),c.a.createElement("option",{value:"2"},"2 - Fair"),c.a.createElement("option",{value:"3"},"3 - Good"),c.a.createElement("option",{value:"4"},"4 - Very Good"),c.a.createElement("option",{value:"5"},"5 - Excellent"))),c.a.createElement(Ee.a.Group,{constrolId:"comment"},c.a.createElement(Ee.a.Label,null,c.a.createElement(Ee.a.Control,{as:"textarea",row:"3",onChange:function(e){return h(e.target.value)}}))),c.a.createElement(me.a,{type:"submit"},"Submit")):c.a.createElement(Te,null,"Please ",c.a.createElement(W.Link,{to:"/login"}),"to write a reivew")))))))},Be=function(e,t){return function(){var a=Object(re.a)(ne.a.mark((function a(n,r){var c,l;return ne.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,oe.a.get("/api/products/".concat(e));case 2:c=a.sent,l=c.data,n({type:"CART_ADD_ITEM",payload:{product:l._id,name:l.name,image:l.image,countInStock:l.countInStock,price:l.price,qty:t}}),localStorage.setItem("cartItems",JSON.stringify(r().cart.cartItems));case 6:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},Ve=function(e){var t=e.match,a=e.location,n=e.history,l=t.params.id,o=a.search?Number(a.search.split("=")[1]):1,u=Object(s.b)(),i=Object(s.c)((function(e){return e.cart})).cartItems,E=function(e){u(function(e){return function(t,a){t({type:"CART_REMOVE_ITEM",payload:e}),localStorage.setItem("cartItems",JSON.stringify(a().cart.cartItems))}}(e))};return Object(r.useEffect)((function(){l&&u(Be(l,o))}),[u,l,o]),c.a.createElement(fe.a,null,c.a.createElement(Se.a,{md:8},c.a.createElement("h1",null,"Shopping Cart"),0===i.length?c.a.createElement(Te,null,"Your cart is empty ",c.a.createElement(W.Link,{to:"/"},"Go Back")):c.a.createElement(Qe.a,{variant:"flush"},i.map((function(e){return c.a.createElement(Qe.a.Item,{key:e.product,style:{backgroundColor:"#fff"}},c.a.createElement(fe.a,null,c.a.createElement(Se.a,{md:2},c.a.createElement(ke.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})),c.a.createElement(Se.a,{md:3},c.a.createElement(W.Link,{to:"/product/".concat(e.product)},e.name)),c.a.createElement(Se.a,{md:2,style:{color:"black"}},"$",e.price),c.a.createElement(Se.a,{md:2},c.a.createElement(Ee.a.Control,{as:"select",value:e.qty,onChange:function(t){return u(Be(e.product,Number(t.target.value)))},style:{padding:0}},Object(B.a)(Array(e.countInStock).keys()).map((function(e){return c.a.createElement("option",{key:e+1,value:e+1},e+1)})))),c.a.createElement(Se.a,{md:2},c.a.createElement(me.a,{type:"button",variant:"light",onClick:function(){return E(e.product)}},c.a.createElement("i",{className:"fas fa-trash"})))))})))),c.a.createElement(Se.a,{md:4},c.a.createElement(_e.a,{style:{marginTop:"10px"}},c.a.createElement(Qe.a,null,c.a.createElement(Qe.a.Item,{style:{backgroundColor:"#fff",color:"#333"}},c.a.createElement("h3",null,"SUBTOTAL (",i.reduce((function(e,t){return e+t.qty}),0),") ITEMS"),c.a.createElement("h3",null,"$",i.reduce((function(e,t){return e+t.qty*t.price}),0).toFixed(2))),c.a.createElement(Qe.a.Item,null,c.a.createElement(me.a,{type:"button",className:"btn-block",disabled:0===i.length,onClick:function(){n.push("/login?redirect=shipping")}},"PROCEED TO CHECKOUT"))))))},Ye=function(e){var t=e.children;return c.a.createElement(Z.a,null,c.a.createElement(fe.a,{className:"justify-content-md-center"},c.a.createElement(Se.a,{xs:12,md:6},t)))},qe=function(e){var t=e.location,a=e.history,n=Object(r.useState)(""),l=Object(ie.a)(n,2),o=l[0],u=l[1],i=Object(r.useState)(""),E=Object(ie.a)(i,2),m=E[0],d=E[1],p=Object(s.b)(),f=Object(s.c)((function(e){return e.userLogin})),S=f.loading,g=f.error,_=f.userInfo,h=t.search?t.search.split("=")[1]:"/";Object(r.useEffect)((function(){_&&a.push(h)}),[a,_]);return c.a.createElement(Ye,null,c.a.createElement("h1",null,"Sign In"),g&&c.a.createElement(Te,{variant:"danger"},g),S&&c.a.createElement(Ue,null),c.a.createElement(Ee.a,{onSubmit:function(e){e.preventDefault(),p(function(e,t){return function(){var a=Object(re.a)(ne.a.mark((function a(n){var r,c,l;return ne.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:ce.USER_LOGIN_REQUEST}),r={headers:{"Content-Type":"application/json"}},a.next=5,oe.a.post("/api/user/login",{email:e,password:t},r);case 5:c=a.sent,l=c.data,n({type:ce.USER_LOGIN_SUCCESS,payload:l}),localStorage.setItem("userInfo",JSON.stringify(l)),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),n({type:ce.USER_LOGIN_FAIL,payload:a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message});case 14:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e){return a.apply(this,arguments)}}()}(o,m))}},c.a.createElement(Ee.a.Group,{controlId:"email"},c.a.createElement(Ee.a.Label,null,"Email Address"),c.a.createElement(Ee.a.Control,{type:"email",placeholder:"Enter Email",value:o,onChange:function(e){return u(e.target.value)}})),c.a.createElement(Ee.a.Group,{controlId:"password"},c.a.createElement(Ee.a.Label,null,"Password"),c.a.createElement(Ee.a.Control,{type:"password",placeholder:"Enter Password",value:m,onChange:function(e){return d(e.target.value)}})),c.a.createElement(me.a,{type:"submit",variant:"primary"},"Sign In")),c.a.createElement(fe.a,{className:"py-3"},c.a.createElement(Se.a,null,"New Customer? ",c.a.createElement(W.Link,{to:h?"/register?redirect=".concat(h):"register"},"Register"))))},$e=function(e){var t=e.location,a=e.history,n=Object(r.useState)(""),l=Object(ie.a)(n,2),o=l[0],u=l[1],i=Object(r.useState)(""),E=Object(ie.a)(i,2),m=E[0],d=E[1],p=Object(r.useState)(null),f=Object(ie.a)(p,2),S=f[0],g=f[1],_=Object(r.useState)(""),h=Object(ie.a)(_,2),R=h[0],y=h[1],v=Object(r.useState)(""),I=Object(ie.a)(v,2),O=I[0],b=I[1],T=Object(s.b)(),C=Object(s.c)((function(e){return e.userRegister})),U=C.loading,L=C.error,A=C.userInfo,D=t.search?t.search.split("=")[1]:"/";Object(r.useEffect)((function(){A&&a.push(D)}),[a,A]);return c.a.createElement(Ye,null,c.a.createElement("h1",null,"Sign Up"),R&&c.a.createElement(Te,{variant:"danger"},R),L&&c.a.createElement(Te,{variant:"danger"},L),U&&c.a.createElement(Ue,null),c.a.createElement(Ee.a,{onSubmit:function(e){e.preventDefault(),m!==S?y("Passwords do not match"):T(function(e,t,a){return function(){var n=Object(re.a)(ne.a.mark((function n(r){var c,l,o;return ne.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r({type:ce.USER_REGISTER_REQUEST}),c={headers:{"Content-Type":"application/json"}},n.next=5,oe.a.post("/api/user",{email:t,password:a,name:e},c);case 5:l=n.sent,o=l.data,r({type:ce.USER_REGISTER_SUCCESS,payload:o}),r({type:ce.USER_LOGIN_SUCCESS,payload:o}),localStorage.setItem("userInfo",JSON.stringify(o)),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(0),r({type:ce.USER_REGISTER_FAIL,payload:n.t0.response&&n.t0.response.data.message?n.t0.response.data.message:n.t0.message});case 15:case"end":return n.stop()}}),n,null,[[0,12]])})));return function(e){return n.apply(this,arguments)}}()}(O,o,m))}},c.a.createElement(Ee.a.Group,{controlId:"name"},c.a.createElement(Ee.a.Label,null,"Name"),c.a.createElement(Ee.a.Control,{type:"name",placeholder:"Enter Name",value:O,onChange:function(e){return b(e.target.value)}})),c.a.createElement(Ee.a.Group,{controlId:"email"},c.a.createElement(Ee.a.Label,null,"Email Address"),c.a.createElement(Ee.a.Control,{type:"email",placeholder:"Enter Email",value:o,onChange:function(e){return u(e.target.value)}})),c.a.createElement(Ee.a.Group,{controlId:"password"},c.a.createElement(Ee.a.Label,null,"Password"),c.a.createElement(Ee.a.Control,{type:"password",placeholder:"Enter Password",value:m,onChange:function(e){return d(e.target.value)}})),c.a.createElement(Ee.a.Group,{controlId:"password"},c.a.createElement(Ee.a.Label,null,"Confirm Password"),c.a.createElement(Ee.a.Control,{type:"password",placeholder:"Confirm Password",value:S,onChange:function(e){return g(e.target.value)}})),c.a.createElement(me.a,{type:"submit",variant:"primary"},"Register")),c.a.createElement(fe.a,{className:"py-3"},c.a.createElement(Se.a,null,"Have an account? ",c.a.createElement(W.Link,{to:D?"/login?redirect=".concat(D):"login"},"Login"))))},ze=a(134),Je=function(){return function(){var e=Object(re.a)(ne.a.mark((function e(t,a){var n,r,c,l,o;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:" ORDER_LISTALL_REQUEST"}),n=a(),r=n.userLogin.userInfo,c={headers:{Authorization:"Bearer ".concat(r.token)}},e.next=6,oe.a.get("/api/orders",c);case 6:l=e.sent,o=l.data,t({type:" ORDER_LISTALL_SUCCESS",payload:o}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0),t({type:" ORDER_LISTALL_FAIL",payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}()},We=function(e){e.location;var t=e.history,a=Object(r.useState)(""),n=Object(ie.a)(a,2),l=n[0],o=n[1],u=Object(r.useState)(""),i=Object(ie.a)(u,2),E=i[0],m=i[1],d=Object(r.useState)(void 0),p=Object(ie.a)(d,2),f=p[0],S=p[1],g=Object(r.useState)(""),_=Object(ie.a)(g,2),h=_[0],R=_[1],y=Object(r.useState)(""),v=Object(ie.a)(y,2),I=v[0],O=v[1],b=Object(s.b)(),T=Object(s.c)((function(e){return e.userDetails})),C=T.loading,U=T.error,L=T.user,A=Object(s.c)((function(e){return e.userLogin})).userInfo,D=Object(s.c)((function(e){return e.userUpdateProfile})).success,P=Object(s.c)((function(e){return e.orderListMy})),j=P.loading,k=P.error,w=P.orders;Object(r.useEffect)((function(){A?L&&L.name&&!D?(O(L.name),o(L.email)):(b({type:ce.USER_UPDATE_PROFILE_RESET}),b(ue("profile")),b(function(){var e=Object(re.a)(ne.a.mark((function e(t,a){var n,r,c,l,o;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:" ORDER_LIST_MY_REQUEST"}),n=a(),r=n.userLogin.userInfo,c={headers:{Authorization:"Bearer ".concat(r.token)}},e.next=6,oe.a.get("/api/orders/myorders",c);case 6:l=e.sent,o=l.data,t({type:" ORDER_LIST_MY_SUCCESS",payload:o}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0),t({type:" ORDER_LIST_MY_FAIL",payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}())):t.push("/login")}),[b,t,A,L,D]);return c.a.createElement(fe.a,null,c.a.createElement(Se.a,{md:3},c.a.createElement("h3",null,"USER PROFILE"),h&&c.a.createElement(Te,{variant:"danger"},h),U&&c.a.createElement(Te,{variant:"danger"},U),D&&c.a.createElement(Te,{variant:"success"},"Profile Updated"),C&&c.a.createElement(Ue,null),c.a.createElement(Ee.a,{onSubmit:function(e){e.preventDefault(),E!==f?R("Passwords do not match"):b(function(e){return function(){var t=Object(re.a)(ne.a.mark((function t(a,n){var r,c,l,o,s;return ne.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:ce.USER_UPDATE_PROFILE_REQUEST}),r=n(),c=r.userLogin.userInfo,l={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c.token)}},t.next=6,oe.a.put("/api/user/profile",e,l);case 6:o=t.sent,s=o.data,a({type:ce.USER_UPDATE_PROFILE_SUCCESS,payload:s}),a({type:ce.USER_LOGIN_SUCCESS,payload:s}),localStorage.setItem("userInfo",JSON.stringify(s)),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),a({type:ce.USER_UPDATE_PROFILE_FAIL,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e,a){return t.apply(this,arguments)}}()}({id:L._id,name:I,email:l,password:E}))}},c.a.createElement(Ee.a.Group,{controlId:"name"},c.a.createElement(Ee.a.Label,null,"Name"),c.a.createElement(Ee.a.Control,{type:"name",placeholder:"Enter Name",value:I,onChange:function(e){return O(e.target.value)}})),c.a.createElement(Ee.a.Group,{controlId:"email"},c.a.createElement(Ee.a.Label,null,"Email Address"),c.a.createElement(Ee.a.Control,{type:"email",placeholder:"Enter Email",value:l,onChange:function(e){return o(e.target.value)}})),c.a.createElement(Ee.a.Group,{controlId:"password"},c.a.createElement(Ee.a.Label,null,"Password"),c.a.createElement(Ee.a.Control,{type:"password",placeholder:"Enter Password",value:E,onChange:function(e){return m(e.target.value)}})),c.a.createElement(Ee.a.Group,{controlId:"password"},c.a.createElement(Ee.a.Label,null,"Confirm Password"),c.a.createElement(Ee.a.Control,{type:"password",placeholder:"Confirm Password",value:f,onChange:function(e){return S(e.target.value)}})),c.a.createElement(me.a,{type:"submit",variant:"primary"},"Update"))),c.a.createElement(Se.a,{md:9},c.a.createElement("h3",null,"MY ORDERS"),j?c.a.createElement(Ue,null):k?c.a.createElement(Te,{variant:"danger"},k):c.a.createElement(ze.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm"},c.a.createElement("thead",null,c.a.createElement("th",null,"ID"),c.a.createElement("th",null,"DATE"),c.a.createElement("th",null,"TOTAL"),c.a.createElement("th",null,"PAID"),c.a.createElement("th",null,"DELIVERED"),c.a.createElement("th",null)),c.a.createElement("tbody",null,w.map((function(e){return c.a.createElement("tr",{key:e.id},c.a.createElement("td",null,e.id),c.a.createElement("th",null,e.createdAt.substring(0,10)),c.a.createElement("td",null,e.price),c.a.createElement("td",null,e.isPaid?e.paidAt.substring(0,10):c.a.createElement("i",{className:"fas fa-times",style:{color:"red"}})),c.a.createElement("td",null,e.isDelivered?e.deliveredAt.substring(0,10):c.a.createElement("i",{className:"fas fa-times",style:{color:"red"}})),c.a.createElement("td",null,c.a.createElement(K.LinkContainer,{to:"/order/".concat(e._id)},c.a.createElement(me.a,null,"Details"))))}))))))},He=function(e){var t=e.step1,a=e.step2,n=e.step3,r=e.step4;return c.a.createElement(ee.a,{className:"justify-content-center mb-4"},c.a.createElement(ee.a.Item,null,t?c.a.createElement(K.LinkContainer,{to:"/login"},c.a.createElement(ee.a.Link,null,"Sign In")):c.a.createElement(ee.a.Link,{disabled:!0},"Sign In")),c.a.createElement(ee.a.Item,null,a?c.a.createElement(K.LinkContainer,{to:"/shipping"},c.a.createElement(ee.a.Link,null,"Shipping")):c.a.createElement(ee.a.Link,{disabled:!0},"Shipping")),c.a.createElement(ee.a.Item,null,n?c.a.createElement(K.LinkContainer,{to:"/payment"},c.a.createElement(ee.a.Link,null,"Payment")):c.a.createElement(ee.a.Link,{disabled:!0},"Payment")),c.a.createElement(ee.a.Item,null,r?c.a.createElement(K.LinkContainer,{to:"/placeorder"},c.a.createElement(ee.a.Link,null,"Place Order")):c.a.createElement(ee.a.Link,{disabled:!0},"Place Order")))},Ke=function(e){var t=e.history,a=Object(s.c)((function(e){return e.cart})).shippingAddress,n=Object(r.useState)(a.address),l=Object(ie.a)(n,2),o=l[0],u=l[1],i=Object(r.useState)(a.city),E=Object(ie.a)(i,2),m=E[0],d=E[1],p=Object(r.useState)(a.postalCode),f=Object(ie.a)(p,2),S=f[0],g=f[1],_=Object(r.useState)(a.country),h=Object(ie.a)(_,2),R=h[0],y=h[1],v=Object(s.b)();return c.a.createElement(Ye,null,c.a.createElement(He,{step1:!0,step2:!0}),c.a.createElement("h1",null,"Shipping"),c.a.createElement(Ee.a,{onSubmit:function(e){var a;e.preventDefault(),v((a={address:o,city:m,postalCode:S,country:R},function(e){e({type:"CART_SAVE_SHIPPING_ADDRESS",payload:a}),localStorage.setItem("shippingAddress",JSON.stringify(a))})),t.push("/payment")}},c.a.createElement(Ee.a.Group,{controlId:"address"},c.a.createElement(Ee.a.Label,null,"Address"),c.a.createElement(Ee.a.Control,{type:"text",placeholder:"Enter address",value:o,required:!0,onChange:function(e){return u(e.target.value)}})),c.a.createElement(Ee.a.Group,{controlId:"city"},c.a.createElement(Ee.a.Label,null,"City"),c.a.createElement(Ee.a.Control,{type:"text",placeholder:"Enter city",value:m,required:!0,onChange:function(e){return d(e.target.value)}})),c.a.createElement(Ee.a.Group,{controlId:"postalCode"},c.a.createElement(Ee.a.Label,null,"Postal Code"),c.a.createElement(Ee.a.Control,{type:"text",placeholder:"Enter Postal Code",value:S,required:!0,onChange:function(e){return g(e.target.value)}})),c.a.createElement(Ee.a.Group,{controlId:"country"},c.a.createElement(Ee.a.Label,null,"Country"),c.a.createElement(Ee.a.Control,{type:"text",placeholder:"Enter Country",value:R,required:!0,onChange:function(e){return y(e.target.value)}})),c.a.createElement(me.a,{type:"submit",variant:"primary"},"Continue")))},Xe=function(e){var t=e.history;Object(s.c)((function(e){return e.cart})).shippingAddress||t.push("/shipping");var a=Object(r.useState)("PayPal"),n=Object(ie.a)(a,2),l=n[0],o=n[1],u=Object(s.b)();return c.a.createElement(Ye,null,c.a.createElement(He,{step1:!0,step2:!0,step3:!0}),c.a.createElement("h1",null,"Payment Method"),c.a.createElement(Ee.a,{onSubmit:function(e){var a;e.preventDefault(),u((a=l,function(e){e({type:"CART_SAVE_PAYMENT_METHOD",payload:a}),localStorage.setItem("paymentMethod",JSON.stringify(a))})),t.push("/placeorder")}},c.a.createElement(Ee.a.Group,null,c.a.createElement(Ee.a.Label,{as:"legend"},"Select Method"),c.a.createElement(Se.a,null,c.a.createElement(Ee.a.Check,{type:"radio",label:"PayPal or Credit Card",id:"PayPal",name:"paymentMethod",value:"PayPal",checked:!0,onChange:function(e){return o(e.target.value)}}))),c.a.createElement(me.a,{type:"submit",variant:"primary"},"Continue")))},Ze=function(e){var t=e.history,a=Object(s.c)((function(e){return e.cart})),n=Object(s.b)(),l=Object(s.c)((function(e){return e.orderCreate})),o=l.success,u=l.order,i=l.error;Object(r.useEffect)((function(){o&&t.push("/order/".concat(u._id))}),[t,o]);var E=function(e){return(Math.round(100*e)/100).toFixed(2)};return a.itemsPrice=E(a.cartItems.reduce((function(e,t){return e+t.price*t.qty}),0)),a.shippingPrice=E(a.itemsPrice>100?0:100),a.taxPrice=E(Number(.15*a.itemsPrice)),a.totalPrice=E(Number(a.itemsPrice)+Number(a.shippingPrice)+Number(a.taxPrice)),c.a.createElement(c.a.Fragment,null,c.a.createElement(He,{step1:!0,step2:!0,step3:!0,step4:!0}),c.a.createElement(fe.a,null,c.a.createElement(Se.a,{md:8},c.a.createElement(Qe.a,{variant:"flush"},c.a.createElement(Qe.a.Item,null,c.a.createElement("h2",null,"Shipping"),c.a.createElement("p",null,c.a.createElement("strong",null,"Address: "),a.shippingAddress.address,",",a.shippingAddress.city,",",a.shippingAddress.postalCode,",",a.shippingAddress.country)),c.a.createElement(Qe.a.Item,null,c.a.createElement("h2",null,"Payment Method"),c.a.createElement("strong",null,"Method: "),a.paymentMethod),c.a.createElement(Qe.a.Item,null,c.a.createElement("h2",null,"Order Items"),0===a.cartItems.length?c.a.createElement(Te,null,"Your Cart is empty"):c.a.createElement(Qe.a,{variant:"flush"},a.cartItems.map((function(e,t){return c.a.createElement(Qe.a.Item,{key:t},c.a.createElement(fe.a,null,c.a.createElement(Se.a,{md:1},c.a.createElement(ke.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})),c.a.createElement(Se.a,null,c.a.createElement(W.Link,{to:"/product/".concat(e.product)},e.name)),c.a.createElement(Se.a,{md:4},e.qty," x $",e.price," = $",e.qty," * ",e.price)))})))))),c.a.createElement(Se.a,{md:4},c.a.createElement(_e.a,null,c.a.createElement(Qe.a,{variant:"flush"},c.a.createElement(Qe.a.Item,null,c.a.createElement("h2",null,"Order Summary")),c.a.createElement(Qe.a.Item,null,c.a.createElement(fe.a,null,c.a.createElement(Se.a,null,"Items"),c.a.createElement(Se.a,null,"$",a.itemsPrice))),c.a.createElement(Qe.a.Item,null,c.a.createElement(fe.a,null,c.a.createElement(Se.a,null,"Shipping"),c.a.createElement(Se.a,null,"$",a.shippingPrice))),c.a.createElement(Qe.a.Item,null,c.a.createElement(fe.a,null,c.a.createElement(Se.a,null,"Tax"),c.a.createElement(Se.a,null,"$",a.taxPrice))),c.a.createElement(Qe.a.Item,null,c.a.createElement(fe.a,null,c.a.createElement(Se.a,null,"Total"),c.a.createElement(Se.a,null,"$",a.totalPrice))),c.a.createElement(Qe.a.Item,null,i&&c.a.createElement(Te,{variant:"danger"},i)),c.a.createElement(Qe.a.Item,null,c.a.createElement(me.a,{type:"button",className:"btn-block",disabled:0===a.cartItems,onClick:function(){n(function(e){return function(){var t=Object(re.a)(ne.a.mark((function t(a,n){var r,c,l,o,s;return ne.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:" ORDER_CREATE_REQUEST"}),r=n(),c=r.userLogin.userInfo,l={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c.token)}},console.log("config here",l),t.next=7,oe.a.post("/api/orders",e,l);case 7:o=t.sent,s=o.data,a({type:" ORDER_CREATE_SUCCESS",payload:s}),localStorage.setItem("userInfo",JSON.stringify(s)),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(0),console.log("malformed here",t.t0),a({type:" ORDER_CREATE_FAIL",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 17:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e,a){return t.apply(this,arguments)}}()}({orderItems:a.cartItems,shippingAddress:a.shippingAddress,paymentMethod:a.paymentMethod,itemsPrice:a.itemsPrice,shippingPrice:a.shippingPrice,taxPrice:a.taxPrice,totalPrice:a.totalPrice}))}},"Place Order")))))))},et=a(86),tt=function(e){var t,a=e.match,n=e.history,l=a.params.id,o=Object(r.useState)(!1),u=Object(ie.a)(o,2),i=u[0],E=u[1],m=Object(s.b)(),d=Object(s.c)((function(e){return e.orderDetails})),p=d.loading,f=d.order,S=d.error,g=Object(s.c)((function(e){return e.userLogin})).userInfo,_=Object(s.c)((function(e){return e.orderPay})),h=_.loading,R=_.success,y=Object(s.c)((function(e){return e.orderDeliver})),v=y.loading,I=y.success,O=y.error;if(!p){f&&(f.itemsPrice=(t=f.orderItems.reduce((function(e,t){return e+t.price*t.qty}),0),(Math.round(100*t)/100).toFixed(2)))}Object(r.useEffect)((function(){console.log(g),g||n.push("/login");var e,t=function(){var e=Object(re.a)(ne.a.mark((function e(){var t,a,n;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe.a.get("/api/config/paypal");case 2:t=e.sent,a=t.data,(n=document.createElement("script")).type="text/javascript",n.src="https://www.paypal.com/sdk/js?client-id=".concat(a),n.async=!0,n.onload=function(){E(!0)},document.body.appendChild(n);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();!f||R||I?(m({type:" ORDER_PAY_RESET"}),m({type:" ORDER_DELIVER_RESET"}),m((e=l,function(){var t=Object(re.a)(ne.a.mark((function t(a,n){var r,c,l,o,s,u;return ne.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:" ORDER_DETAILS_REQUEST"}),r=n(),c=r.userLogin.userInfo,l={headers:{Authorization:"Bearer ".concat(c.token)}},t.next=6,oe.a.get("/api/orders/".concat(e),l);case 6:o=t.sent,s=o.data,a({type:" ORDER_DETAILS_SUCCESS",payload:s}),t.next=16;break;case 11:t.prev=11,t.t0=t.catch(0),"Not authorized, token failed"===(u=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&a(se()),a({type:" ORDER_DETAILS_FAIL",payload:u});case 16:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()))):f.isPaid||(window.paypal?E(!0):t())}),[m,f,l,R,I,g]);return p?c.a.createElement(Ue,null):S?c.a.createElement(Te,{variant:"danger"},S):c.a.createElement(c.a.Fragment,null,c.a.createElement("h1",null,"Order ",f.id),c.a.createElement(fe.a,null,c.a.createElement(Se.a,{md:8},c.a.createElement(Qe.a,{variant:"flush"},c.a.createElement(Qe.a.Item,null,c.a.createElement("h2",null,"Shipping"),c.a.createElement("p",null,c.a.createElement("strong",null,"Name: ")," ",f.user.name),c.a.createElement("p",null,c.a.createElement("strong",null,"Email: "),c.a.createElement("a",{href:"mailto:".concat(f.user.email)},f.user.email)),c.a.createElement("p",null,c.a.createElement("strong",null,"Address: "),f.shippingAddress.address,",",f.shippingAddress.city,",",f.shippingAddress.postalCode,",",f.shippingAddress.country),f.isDelivered?c.a.createElement(Te,{variant:"success"},"Delivered on ",f.DeliveredAt):c.a.createElement(Te,{variant:"danger"},"Not delivered")),c.a.createElement(Qe.a.Item,null,c.a.createElement("h2",null,"Payment Method"),c.a.createElement("p",null,c.a.createElement("strong",null,"Method: "),f.paymentMethod),f.isPaid?c.a.createElement(Te,{variant:"success"},"Paid on ",f.paidAt):c.a.createElement(Te,{variant:"danger"},"Not Paid")),c.a.createElement(Qe.a.Item,null,c.a.createElement("h2",null,"Order Items"),0===f.orderItems.length?c.a.createElement(Te,null,"Order is empty"):c.a.createElement(Qe.a,{variant:"flush"},f.orderItems.map((function(e,t){return c.a.createElement(Qe.a.Item,{key:t},c.a.createElement(fe.a,null,c.a.createElement(Se.a,{md:1},c.a.createElement(ke.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})),c.a.createElement(Se.a,null,c.a.createElement(W.Link,{to:"/product/".concat(e.product)},e.name)),c.a.createElement(Se.a,{md:4},e.qty," x $",e.price," = $",e.qty," * ",e.price)))})))))),c.a.createElement(Se.a,{md:4},c.a.createElement(_e.a,null,c.a.createElement(Qe.a,{variant:"flush"},c.a.createElement(Qe.a.Item,null,c.a.createElement("h2",null,"Order Summary")),c.a.createElement(Qe.a.Item,null,c.a.createElement(fe.a,null,c.a.createElement(Se.a,null,"Items"),c.a.createElement(Se.a,null,"$",f.itemsPrice))),c.a.createElement(Qe.a.Item,null,c.a.createElement(fe.a,null,c.a.createElement(Se.a,null,"Shipping"),c.a.createElement(Se.a,null,"$",f.shippingPrice))),c.a.createElement(Qe.a.Item,null,c.a.createElement(fe.a,null,c.a.createElement(Se.a,null,"Tax"),c.a.createElement(Se.a,null,"$",f.taxPrice))),c.a.createElement(Qe.a.Item,null,c.a.createElement(fe.a,null,c.a.createElement(Se.a,null,"Total"),c.a.createElement(Se.a,null,"$",f.totalPrice))),!f.isPaid&&c.a.createElement(Qe.a.Item,null,h&&c.a.createElement(Ue,null),i?c.a.createElement(et.PayPalButton,{amount:f.totalPrice,onSuccess:function(e){console.log(e),m(function(e,t){return function(){var a=Object(re.a)(ne.a.mark((function a(n,r){var c,l,o,s,u;return ne.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:" ORDER_PAY_REQUEST"}),c=r(),l=c.userLogin.userInfo,o={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(l.token)}},a.next=6,oe.a.put("/api/orders/".concat(e,"/pay"),t,o);case 6:s=a.sent,u=s.data,n({type:" ORDER_PAY_SUCCESS",payload:u}),localStorage.setItem("userInfo",JSON.stringify(u)),a.next=16;break;case 12:a.prev=12,a.t0=a.catch(0),console.log(a.t0),n({type:" ORDER_PAY_FAIL",payload:a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message});case 16:case"end":return a.stop()}}),a,null,[[0,12]])})));return function(e,t){return a.apply(this,arguments)}}()}(l,e))}}):c.a.createElement(Ue,null)),v&&c.a.createElement(Ue,null),g&&g.isAdmin&&f.isPaid&&!f.isDelivered&&c.a.createElement(Qe.a.Item,null,c.a.createElement(me.a,{type:"button",className:"btn btn-block",onClick:function(){m(function(e){return function(){var t=Object(re.a)(ne.a.mark((function t(a,n){var r,c,l,o,s;return ne.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:" ORDER_DELIVER_REQUEST"}),r=n(),c=r.userLogin.userInfo,l={headers:{Authorization:"Bearer ".concat(c.token)}},console.log(l),t.next=7,oe.a.put("/api/orders/".concat(e._id,"/deliver"),{},l);case 7:o=t.sent,s=o.data,a({type:" ORDER_DELIVER_SUCCESS",payload:s}),localStorage.setItem("userInfo",JSON.stringify(s)),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(0),console.log(t.t0),a({type:" ORDER_DELIVER_FAIL",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 17:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e,a){return t.apply(this,arguments)}}()}(f))}},"MARK AS DELIVERED"),O&&c.a.createElement(Te,{variant:"danger"},O)))))))},at=function(e){var t=e.history,a=Object(s.b)(),n=Object(s.c)((function(e){return e.userList})),l=n.loading,o=n.error,u=n.users,i=Object(s.c)((function(e){return e.userLogin})).userInfo,E=Object(s.c)((function(e){return e.userDelete})).success;Object(r.useEffect)((function(){i&&i.isAdmin?a(function(){var e=Object(re.a)(ne.a.mark((function e(t,a){var n,r,c,l,o;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:ce.USER_LIST_REQUEST}),n=a(),r=n.userLogin.userInfo,c={headers:{Authorization:"Bearer ".concat(r.token)}},e.next=6,oe.a.get("/api/user",c);case 6:l=e.sent,o=l.data,console.log(o),t({type:ce.USER_LIST_SUCCESS,payload:o}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),t({type:ce.USER_LIST_FAIL,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,a){return e.apply(this,arguments)}}()):t.push("/login")}),[a,t,E,i]);var m=function(e){window.confirm("Are you sure")&&a(function(e){return function(){var t=Object(re.a)(ne.a.mark((function t(a,n){var r,c,l;return ne.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:ce.USER_DELETE_REQUEST}),r=n(),c=r.userLogin.userInfo,l={headers:{Authorization:"Bearer ".concat(c.token)}},t.next=6,oe.a.delete("/api/user/".concat(e),l);case 6:a({type:ce.USER_DELETE_SUCCESS}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:ce.USER_DELETE_FAIL,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,a){return t.apply(this,arguments)}}()}(e))};return c.a.createElement(c.a.Fragment,null,c.a.createElement("h1",null,"Users"),l?c.a.createElement(Ue,null):o?c.a.createElement(Te,{variant:"danger"},o):c.a.createElement(ze.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"ID"),c.a.createElement("th",null,"NAME"),c.a.createElement("th",null,"EMAIL"),c.a.createElement("th",null,"ADMIN"),c.a.createElement("th",null))),c.a.createElement("tbody",null,u.map((function(e){return c.a.createElement("tr",{key:e._id},c.a.createElement("td",null,e._id),c.a.createElement("td",null,e.name),c.a.createElement("td",null,c.a.createElement("a",{href:"mailto:".concat(e.email)},e.email)),c.a.createElement("td",null,e.isAdmin?c.a.createElement("i",{className:"fas fa-check",style:{color:"green"}}):c.a.createElement("i",{className:"fas fa-times",style:{color:"red"}})),c.a.createElement("td",null,c.a.createElement(K.LinkContainer,{to:"/admin/user/".concat(e._id,"/edit")},c.a.createElement(me.a,{variant:"light",className:"btn-sm"},c.a.createElement("i",{className:"fas fa-edit"}))),c.a.createElement(me.a,{variant:"danger",className:"btn-sm",onClick:function(){return m(e._id)}},c.a.createElement("i",{className:"fas fa-trash"}))))})))))},nt=function(e){var t=e.match,a=e.history,n=t.params.id,l=Object(r.useState)(""),o=Object(ie.a)(l,2),u=o[0],i=o[1],E=Object(r.useState)(""),m=Object(ie.a)(E,2),d=m[0],p=m[1],f=Object(r.useState)(""),S=Object(ie.a)(f,2),g=S[0],_=S[1],h=Object(s.b)(),R=Object(s.c)((function(e){return e.userDetails})),y=R.loading,v=R.error,I=R.user,O=Object(s.c)((function(e){return e.userUpdate})),b=O.loading,T=O.error,C=O.success;Object(r.useEffect)((function(){C?(h({type:ce.USER_UPDATE_RESET}),a.push("/admin/userlist")):I.name&&I._id===n?(p(I.name),i(I.email),_(I.isAdmin)):h(ue(n))}),[I,n,h,C,a]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(W.Link,{to:"/admin/userlist",className:"btn btn-light my-3"},"Go Back"),c.a.createElement(Ye,null,c.a.createElement("h1",null,"Edit User"),b&&c.a.createElement(Ue,null),T&&c.a.createElement(Te,{variant:"danger"},T),y?c.a.createElement(Ue,null):v?c.a.createElement(Te,{variant:"danger"},v):c.a.createElement(Ee.a,{onSubmit:function(e){e.preventDefault(),h(function(e){return function(){var t=Object(re.a)(ne.a.mark((function t(a,n){var r,c,l,o,s;return ne.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:ce.USER_UPDATE_REQUEST}),r=n(),c=r.userLogin.userInfo,l={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c.token)}},t.next=6,oe.a.put("/api/user/".concat(e._id),e,l);case 6:o=t.sent,s=o.data,a({type:ce.USER_UPDATE_SUCCESS}),a({type:ce.USER_DETAILS_SUCCESS,payload:s}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),a({type:ce.USER_UPDATE_FAIL,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,a){return t.apply(this,arguments)}}()}({_id:n,name:d,email:u,isAdmin:g}))}},c.a.createElement(Ee.a.Group,{controlId:"name"},c.a.createElement(Ee.a.Label,null,"Name"),c.a.createElement(Ee.a.Control,{type:"name",placeholder:"Enter Name",value:d,onChange:function(e){return p(e.target.value)}})),c.a.createElement(Ee.a.Group,{controlId:"email"},c.a.createElement(Ee.a.Label,null,"Email Address"),c.a.createElement(Ee.a.Control,{type:"email",placeholder:"Enter Email",value:u,onChange:function(e){return i(e.target.value)}})),c.a.createElement(Ee.a.Group,{controlId:"isadmin"},c.a.createElement(Ee.a.Check,{type:"checkbox",label:"Is Admin",checked:g,onChange:function(e){return _(e.target.checked)}})),c.a.createElement(Ee.a.Group,{controlId:"password"}),c.a.createElement(me.a,{type:"submit",variant:"primary"},"Update"))))},rt=function(e){var t=e.history,a=e.match.params.pageNumber||1,n=Object(s.b)(),l=Object(s.c)((function(e){return e.productList})),o=l.loading,u=l.error,i=l.products,E=l.page,m=l.pages,d=Object(s.c)((function(e){return e.userLogin})).userInfo,p=Object(s.c)((function(e){return e.productDelete})),f=p.loading,S=p.error,g=p.success,_=Object(s.c)((function(e){return e.productCreate})),h=_.loading,R=_.error,y=_.success,v=_.product;Object(r.useEffect)((function(){n({type:"PRODUCT_CREATE_RESET"}),d.isAdmin||t.push("/login"),y?t.push("/admin/product/".concat(v._id,"/edit")):n(Le("",a))}),[n,t,d,g,y,v,a]);var I=function(e){window.confirm("Are you sure")&&n(function(e){return function(){var t=Object(re.a)(ne.a.mark((function t(a,n){var r,c,l;return ne.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"PRODUCT_DELETE_REQUEST"}),r=n(),c=r.userLogin.userInfo,l={headers:{Authorization:"Bearer ".concat(c.token)}},t.next=6,oe.a.delete("/api/products/".concat(e),l);case 6:a({type:"PRODUCT_DELETE_SUCCESS"}),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0),a({type:"PRODUCT_DELETE_FAIL",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,a){return t.apply(this,arguments)}}()}(e))};return c.a.createElement(c.a.Fragment,null,c.a.createElement(fe.a,{className:"align-items-center"},c.a.createElement(Se.a,null,c.a.createElement("h1",null,"Products")),c.a.createElement(Se.a,{className:"text-right"},c.a.createElement(me.a,{className:"my-3",onClick:function(){n(function(){var e=Object(re.a)(ne.a.mark((function e(t,a){var n,r,c,l,o;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"PRODUCT_CREATE_REQUEST"}),n=a(),r=n.userLogin.userInfo,c={headers:{Authorization:"Bearer ".concat(r.token)}},e.next=6,oe.a.post("/api/products/",{},c);case 6:l=e.sent,o=l.data,t({type:"PRODUCT_CREATE_SUCCESS",payload:o}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0),t({type:"PRODUCT_CREATE_FAIL",payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}())}},c.a.createElement("i",{className:"fas fa-plus"}),"Create Product"))),f&&c.a.createElement(Ue,null),S&&c.a.createElement(Te,{variant:"danger"},S),h&&c.a.createElement(Ue,null),R&&c.a.createElement(Te,{variant:"danger"},R),o?c.a.createElement(Ue,null):u?c.a.createElement(Te,{variant:"danger"},u):c.a.createElement(c.a.Fragment,null,c.a.createElement(ze.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"ID"),c.a.createElement("th",null,"NAME"),c.a.createElement("th",null,"PRICE"),c.a.createElement("th",null,"CATEGORY"),c.a.createElement("th",null,"BRAND"),c.a.createElement("th",null))),c.a.createElement("tbody",null,i.map((function(e){return c.a.createElement("tr",{key:e._id},c.a.createElement("td",null,e._id),c.a.createElement("td",null,e.name),c.a.createElement("td",null,"$",e.price),c.a.createElement("td",null,e.category),c.a.createElement("td",null,e.brand),c.a.createElement("td",null,c.a.createElement(K.LinkContainer,{to:"/admin/product/".concat(e._id,"/edit")},c.a.createElement(me.a,{variant:"light",className:"btn-sm"},c.a.createElement("i",{className:"fas fa-edit"}))),c.a.createElement(me.a,{variant:"danger",className:"btn-sm",onClick:function(){return I(e._id)}},c.a.createElement("i",{className:"fas fa-trash"}))))})))),c.a.createElement(Pe,{pages:m,page:E,isAdmin:!0})))},ct=function(e){var t=e.match,a=e.history,n=t.params.id,l=Object(r.useState)(0),o=Object(ie.a)(l,2),u=o[0],i=o[1],E=Object(r.useState)(""),m=Object(ie.a)(E,2),d=m[0],p=m[1],f=Object(r.useState)(""),S=Object(ie.a)(f,2),g=S[0],_=S[1],h=Object(r.useState)(""),R=Object(ie.a)(h,2),y=R[0],v=R[1],I=Object(r.useState)(""),O=Object(ie.a)(I,2),b=O[0],T=O[1],C=Object(r.useState)(0),U=Object(ie.a)(C,2),L=U[0],A=U[1],D=Object(r.useState)(""),P=Object(ie.a)(D,2),j=P[0],k=P[1],w=Object(r.useState)(!1),x=Object(ie.a)(w,2),N=x[0],F=x[1],G=Object(s.b)(),Q=Object(s.c)((function(e){return e.productDetails})),M=Q.loading,B=Q.error,V=Q.product,Y=Object(s.c)((function(e){return e.productUpdate})),q=Y.loading,$=Y.error,z=Y.success;Object(r.useEffect)((function(){z?(G({type:"PRODUCT_UPDATE_RESET"}),a.push("/admin/productlist")):V.name&&V._id===n?(p(V.name),i(V.email),_(V.isAdmin),v(V.brand),T(V.category),A(V.countInStock),k(V.description)):G(Ae(n))}),[V,n,G,a,z]);var J=function(){var e=Object(re.a)(ne.a.mark((function e(t){var a,n,r,c,l;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.files[0],(n=new FormData).append("image",a),F(!0),e.prev=4,r={headers:{"Content-Type":"multipart/form-data"}},e.next=8,oe.a.post("/api/upload",n,r);case 8:c=e.sent,l=c.data,console.log(l),_(l),F(!1),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(4),console.log(e.t0),F(!1);case 19:case"end":return e.stop()}}),e,null,[[4,15]])})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement(c.a.Fragment,null,c.a.createElement(W.Link,{to:"/admin/productList",className:"btn btn-light my-3"},"Go Back"),c.a.createElement(Ye,null,c.a.createElement("h1",null,"Edit Product"),q&&c.a.createElement(Ue,null),$&&c.a.createElement(Te,{variant:"danger"},$),M?c.a.createElement(Ue,null):B?c.a.createElement(Te,{variant:"danger"},B):c.a.createElement(Ee.a,{onSubmit:function(e){e.preventDefault(),G(function(e){return function(){var t=Object(re.a)(ne.a.mark((function t(a,n){var r,c,l,o,s;return ne.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"PRODUCT_UPDATE_REQUEST"}),r=n(),c=r.userLogin.userInfo,l={headers:{"Content-Type":"Application/json",Authorization:"Bearer ".concat(c.token)}},t.next=6,oe.a.put("/api/products/".concat(e._id),e,l);case 6:o=t.sent,s=o.data,a({type:"PRODUCT_UPDATE_SUCCESS",payload:s}),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0),a({type:"PRODUCT_UPDATE_FAIL",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 15:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()}({_id:n,name:d,image:g,price:u,brand:y,category:b,description:j,countInStock:L}))}},c.a.createElement(Ee.a.Group,{controlId:"name"},c.a.createElement(Ee.a.Label,null,"Name"),c.a.createElement(Ee.a.Control,{type:"name",placeholder:"Enter Name",value:d,onChange:function(e){return p(e.target.value)}})),c.a.createElement(Ee.a.Group,{controlId:"price"},c.a.createElement(Ee.a.Label,null,"Price"),c.a.createElement(Ee.a.Control,{type:"number",placeholder:"Enter Price",value:u,onChange:function(e){return i(e.target.value)}})),c.a.createElement(Ee.a.Group,{controlId:"image"},c.a.createElement(Ee.a.Label,null,"Image"),c.a.createElement(Ee.a.Control,{type:"text",placeholder:"Enter Image Url",value:g,onChange:function(e){return _(e.target.value)}}),c.a.createElement(Ee.a.File,{id:"image-file",label:"Choose File",custom:!0,onChange:J}),N&&c.a.createElement(Ue,null)),c.a.createElement(Ee.a.Group,{controlId:"brand"},c.a.createElement(Ee.a.Label,null,"brand"),c.a.createElement(Ee.a.Control,{type:"text",placeholder:"Enter brand Url",value:y,onChange:function(e){return v(e.target.value)}})),c.a.createElement(Ee.a.Group,{controlId:"countInStock"},c.a.createElement(Ee.a.Label,null,"Count In Stock"),c.a.createElement(Ee.a.Control,{type:"number",placeholder:"Enter Count",value:L,onChange:function(e){return A(e.target.value)}})),c.a.createElement(Ee.a.Group,{controlId:"category"},c.a.createElement(Ee.a.Label,null,"Category"),c.a.createElement(Ee.a.Control,{type:"text",placeholder:"Enter Category",value:b,onChange:function(e){return T(e.target.value)}})),c.a.createElement(Ee.a.Group,{controlId:"description"},c.a.createElement(Ee.a.Label,null,"Description"),c.a.createElement(Ee.a.Control,{type:"text",placeholder:"Enter Description",value:j,onChange:function(e){return k(e.target.value)}})),c.a.createElement(me.a,{type:"submit",variant:"primary"},"Update"))))},lt=function(e){var t=e.history,a=Object(s.b)(),n=Object(s.c)((function(e){return e.allOrders})),l=n.loading,o=n.error,u=n.allOrders,i=Object(s.c)((function(e){return e.userLogin})).userInfo;Object(r.useEffect)((function(){i&&i.isAdmin?a(Je()):t.push("/login")}),[a,t,Je,i]);return c.a.createElement(c.a.Fragment,null,c.a.createElement("h1",null,"Orders"),l?c.a.createElement(Ue,null):o?c.a.createElement(Te,{variant:"danger"},o):c.a.createElement(ze.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"ID"),c.a.createElement("th",null,"USER"),c.a.createElement("th",null,"DATE"),c.a.createElement("th",null,"TOTAL"),c.a.createElement("th",null,"PAID"),c.a.createElement("th",null,"DELIVERED"))),c.a.createElement("tbody",null,u.map((function(e){return c.a.createElement("tr",{key:e._id},c.a.createElement("td",null,e._id),c.a.createElement("td",null,e.user&&e.user.name),c.a.createElement("td",null,e.createdAt),c.a.createElement("td",null,"$",e.totalPrice),c.a.createElement("td",null,e.isPaid?e.paidAt.substring(0,10):c.a.createElement("i",{className:"fas fa-times",style:{color:"red"}})),c.a.createElement("td",null,e.isDelivered?e.deliveredAt.substring(0,10):c.a.createElement("i",{className:"fas fa-times",style:{color:"red"}})),c.a.createElement("td",null,c.a.createElement(K.LinkContainer,{to:"/order/".concat(e._id)},c.a.createElement(me.a,{className:"btn-sm"},"Details")),c.a.createElement(me.a,{variant:"danger",className:"btn-sm",onClick:function(){return e._id,void window.confirm("Are you sure")}},c.a.createElement("i",{className:"fas fa-trash"}))))})))))},ot=function(){return c.a.createElement(W.BrowserRouter,null,c.a.createElement(pe,null),c.a.createElement("main",null,c.a.createElement(Z.a,null,c.a.createElement(H.d,{path:"/login",component:qe,exact:!0}),c.a.createElement(H.d,{path:"/order/:id",component:tt,exact:!0}),c.a.createElement(H.d,{path:"/payment",component:Xe,exact:!0}),c.a.createElement(H.d,{path:"/placeorder",component:Ze,exact:!0}),c.a.createElement(H.d,{path:"/shipping",component:Ke,exact:!0}),c.a.createElement(H.d,{path:"/register",component:$e,exact:!0}),c.a.createElement(H.d,{path:"/profile",component:We,exact:!0}),c.a.createElement(H.d,{path:"/product/:id",component:Me}),c.a.createElement(H.d,{path:"/admin/product/:id",component:ct}),c.a.createElement(H.d,{path:"/admin/productlist",component:rt,exact:!0}),c.a.createElement(H.d,{path:"/admin/productlist/:pageNumber",component:rt,exact:!0}),c.a.createElement(H.d,{path:"/admin/userlist",component:at}),c.a.createElement(H.d,{path:"/admin/orderList",component:lt}),c.a.createElement(H.d,{path:"/admin/user/:id/edit",component:nt}),c.a.createElement(H.d,{path:"/cart/:id?",component:Ve})," ",c.a.createElement(H.d,{path:"/search/:keyword",component:Ge,exact:!0}),c.a.createElement(H.d,{path:"/page/:pageNumber",component:Ge,exact:!0}),c.a.createElement(H.d,{path:"/search/:keyword/page/:pageNumber",component:Ge,exact:!0}),c.a.createElement(H.d,{path:"/",component:Ge,exact:!0}))),c.a.createElement(ge,null))};o.a.render(c.a.createElement(s.a,{store:J},c.a.createElement(ot,null)),document.getElementById("root"))},9:function(e,t,a){"use strict";a.r(t),a.d(t,"USER_LOGIN_REQUEST",(function(){return n})),a.d(t,"USER_LOGIN_SUCCESS",(function(){return r})),a.d(t,"USER_LOGIN_FAIL",(function(){return c})),a.d(t,"USER_LOGOUT",(function(){return l})),a.d(t,"USER_REGISTER_REQUEST",(function(){return o})),a.d(t,"USER_REGISTER_SUCCESS",(function(){return s})),a.d(t,"USER_REGISTER_FAIL",(function(){return u})),a.d(t,"USER_DETAILS_REQUEST",(function(){return i})),a.d(t,"USER_DETAILS_SUCCESS",(function(){return E})),a.d(t,"USER_DETAILS_FAIL",(function(){return m})),a.d(t,"USER_DETAILS_RESET",(function(){return d})),a.d(t,"USER_UPDATE_PROFILE_REQUEST",(function(){return p})),a.d(t,"USER_UPDATE_PROFILE_SUCCESS",(function(){return f})),a.d(t,"USER_UPDATE_PROFILE_FAIL",(function(){return S})),a.d(t,"USER_UPDATE_PROFILE_RESET",(function(){return g})),a.d(t,"USER_LIST_REQUEST",(function(){return _})),a.d(t,"USER_LIST_SUCCESS",(function(){return h})),a.d(t,"USER_LIST_FAIL",(function(){return R})),a.d(t,"USER_LIST_RESET",(function(){return y})),a.d(t,"USER_DELETE_REQUEST",(function(){return v})),a.d(t,"USER_DELETE_SUCCESS",(function(){return I})),a.d(t,"USER_DELETE_FAIL",(function(){return O})),a.d(t,"USER_UPDATE_REQUEST",(function(){return b})),a.d(t,"USER_UPDATE_SUCCESS",(function(){return T})),a.d(t,"USER_UPDATE_FAIL",(function(){return C})),a.d(t,"USER_UPDATE_RESET",(function(){return U}));var n="USER_LOGIN_REQUEST",r="USER_LOGIN_SUCCESS",c="USER_LOGIN_FAIL",l="USER_LOGOUT",o="USER_REGISTER_REQUEST",s="USER_REGISTER_SUCCESS",u="USER_REGISTER_FAIL",i="USER_DETAILS_REQUEST",E="USER_DETAILS_SUCCESS",m="USER_DETAILS_FAIL",d="USER_DETAILS_RESET",p="USER_UPDATE_REQUEST",f="USER_UPDATE_SUCCESS",S="USER_UPDATE_FAIL",g="USER_UPDATE_PROFILE_RESET",_="USER_LIST_REQUEST",h="USER_LIST_SUCCESS",R="USER_LIST_FAIL",y="USER_LIST_RESET",v="USER_DELETE_REQUEST",I="USER_DELETE_SUCCESS",O="USER_DELETE_FAIL",b="USER_UPDATE_REQUEST",T="USER_UPDATE_SUCCESS",C="USER_UPDATE_FAIL",U="USER_UPDATE_RESET"},91:function(e,t,a){e.exports=a(124)}},[[91,1,2]]]);
//# sourceMappingURL=main.5c957528.chunk.js.map